sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(e,o,t){"use strict";return{onBrowseHistoryPress:async function(){var e=this.byId("commentHistoryDialog");if(!e){e=sap.ui.xmlfragment(this.getView().getId(),"mahindrasales.ext.fragment.Comments",this);this.getView().addDependent(e)}var n=this.getModel().sServiceUrl;try{debugger;const t=await new Promise((e,o)=>{jQuery.ajax({url:n+"Comment",method:"GET",dataType:"json",success:function(o){e(o)},error:function(e,t,n){o(new Error(t+": "+n))}})});debugger;const i=window.location.href;const a=/purchaseEnquiryUuid=([a-f0-9\-]+)/;const c=i.match(a);var s;if(c&&c[1]){s=c[1];console.log(s)}else{console.log("UUID not found")}const l=t.value;const d=l.filter(e=>e.purchaseEnquiryUuid===s);debugger;var r=new o;r.setData({Files:d});e.setModel(r,"myModel");e.open()}catch(e){console.error("Error fetching comment data:",e);t.show("Failed to load comment history: "+e)}},onCloseHistoryDialog:function(){var e=this.byId("commentHistoryDialog");if(e){e.close()}},onDialogOpen:function(){console.log("Comment History Dialog opened")}}});
//# sourceMappingURL=Comments.js.map